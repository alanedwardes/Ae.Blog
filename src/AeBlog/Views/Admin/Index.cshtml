@model AeBlog.Models.Admin.AdminModel
@{
	ViewData["Title"] = "Admin";
}

<section>
    <h2>Admin</h2>
    <p><a href="/session/logout">Log Out</a> &bull; <a href="/admin/new">New Post</a></p>
	<table>
		<thead>
			<tr>
				<th>Title</th>
				<th>Published</th>
				<th>Action</th>
			</tr>
		</thead>
		<tbody>
			@foreach (var post in Model.Posts)
			{
            <tr>
                <td><a href="@post.Url">@post.Title</a></td>
                <td>@post.Published.ToOrdinalWords()</td>
                <td>
                    <form method="get" action="/admin/edit/@post.Slug/">
                        <button type="submit">Edit</button>
                    </form>
                </td>
                <td>
                    <form method="post" action="/admin/delete/@post.Slug/" onsubmit="return confirm('Are you sure you want to delete the post @post.Title?');">
                        <input type="hidden" name="slug" value="@post.Slug" />
                        <button type="submit">Delete</button>
                    </form>
                </td>
            </tr>
			}
		</tbody>
	</table>
</section>