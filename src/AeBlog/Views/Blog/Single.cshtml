@model AeBlog.Models.BlogModel
@{
    ViewData["Title"] = Model.Single.Title;
    ViewData["Header"] = $"<link rel=\"amphtml\" href=\"https://alanedwardes.com/blog/posts/{Model.Single.Slug}/?amp\">";
    ViewData["Footer"] = "<script src=\"//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js\"></script>" +
                         "<script>" +
                         "var hljsThemeLink = document.createElement('link');" +
                         "hljsThemeLink.rel = 'stylesheet';" +
                         "hljsThemeLink.href = '//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css';" +
                         "hljsThemeLink.type = 'text/css';" +
                         "document.getElementsByTagName('head')[0].appendChild(hljsThemeLink);" +
                         "hljs.initHighlighting();" +
                         "</script>";
}

<section>
    @await Html.PartialAsync("Sidebar", Model.Archive)
    <aside>
        @await Html.PartialAsync("Post", Model.Single)
        <h2 id="comments">Comments</h2>
        <div id="disqus_thread"></div>
        <script>
            var disqus_config = function () {
                this.page.url = "https://alanedwardes.com" + "@Model.Single.Url";
                this.page.identifier = "@Model.Single.Slug";
            };
            (function() {
            var d = document, s = d.createElement('script');
            s.src = 'https://alanedwardes.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
            })();
        </script>
    </aside>
</section>
