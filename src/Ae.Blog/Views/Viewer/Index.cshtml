@{
    Layout = null;
}

<!DOCTYPE html>
<html>
<head>
    <title>Model Viewer</title>
    <script type="module" src="/lib/model-viewer/model-viewer.min.js"></script>
    <style>
        html {
            height: 100%;
        }

        body {
            margin: 0;
            height: 100%;
            background: #151515;
        }

        model-viewer {
            width: 100%;
            height: 100%;
            --poster-color: transparent;
        }
    </style>
    <script>
        function init() {
            let viewer = document.createElement('model-viewer');
            const urlParams = new URLSearchParams(window.location.search);

            const cdn = '@(Ae.Blog.Constants.CDN_ROOT)';

            viewer.setAttribute('src', cdn + urlParams.get('model'));
            viewer.setAttribute('camera-controls', 'camera-controls');
            viewer.setAttribute('auto-rotate', 'auto-rotate');

            if (urlParams.get('exposure')) {
                viewer.setAttribute('exposure', urlParams.get('exposure'));
            }

            if (urlParams.get('skybox')) {
                viewer.setAttribute('skybox-image', cdn + urlParams.get('skybox'));
            }

            document.body.appendChild(viewer);
        }
    </script>
</head>
<body onload="init()"></body>
</html>